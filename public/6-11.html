<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <meta name="description" content="Section 6.11 of TI-2 - Theoretische Informatik 2">
  <link rel="stylesheet" type="text/css" href="app.css" />
  <script type="text/javascript" src="./mathjax_setup.js"></script>
  <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
  <script type="text/javascript" src="./app.js"></script>
  <title>TI-2 - Chapter 6, Section 11</title>
</head>
<body>
  <div class="body-wrapper">
    <div id="top-menu">
      <div id="top-menu-left">
        <a href="./index.html"><span class="inhalts_arrows">&lt;&lt;
          </span>Inhaltsverzeichnis</a><a
          id="prev-page"
          href="./6-10.html"
        >&lt;&lt; Kapitel 6.10<span
            style="visibility:hidden"
            id="top-prev-page-tooltip"
          >Allgemeines Parsing</span></a>
      </div>
      <div id="top-menu-right">
        <a href="https://www.tu-chemnitz.de/informatik/theoretische-informatik/TI-2/index.html.en">zür Kursübersicht</a><a
          id="next-page"
          href="./7-0.html"
        >Kapitel 7 &gt;&gt;<span
            style="visibility:hidden"
            id="top-next-page-tooltip"
          >Allgemeine Grammatiken</span></a>
      </div>
    </div>
    <div class="main-column page-title">
      <p>
        6.11&ensp;Die Grenzen kontextfreier Sprachen
      </p>
    </div>
    <p class="main-column">
      Im letzten Teilkapitel haben wir den CYK-Algorithmus
      kennengelernt. Dieser verwendet das Prinzip des
      <span class="nowrap"><i>Dynamic
          Programming</i>,</span>
      um für eine allgemeine kontextfreie Grammatik $G$
      und ein Eingabewort $\gamma$ einen Ableitungsbaum zu finden (oder
      festzustellen, dass es keinen gibt und somit
      <span class="nowrap">$\gamma \not \in L(G)$).</span>
      In diesem Teilkapitel werden wir sehen,
      dass viele Sprachen gar nicht kontextfrei sind, und werden
      hoffentlich ein Gefühl dafür entwickeln, welche Konstruktionen
      Kontextfreiheit verhindern, ähnlich wie "Verschachtelung" eine
      Sprache nicht-regulär macht.
    </p>
    <div class="well statement out">
      <p>
        <b>Beispiel</b>
        <b>6.11.1</b>
        Betrachten wir die Sprache
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        L := \{ a^n b^n c^n \ | \ \ n \geq 0\} \ .
        \end{align*}
        $$
      </div>
      <p>
        Ein Kellerautomat könnte nun alle $a$ auf den Stack legen und
        dann, wenn die $b$ beginnen, den Stapel abarbeiten. Allerdings
        hätte er dann, wenn die $c$ kommen, vergessen, wieviele $a$ es
        denn waren. Irgendwie scheinen Kellerautomaten nicht für $L$
        geeignet. Dies ist natürlich nur eine Intuition. Vielleicht
        kennen wir einfach nicht alle Tricks, die man mit Kellerautomaten
        (und somit mit kontextfreien Grammatiken) anstellen kann. Wir
        werden nun beweisen, dass $L$ nicht kontextfrei ist; dass es
        also für $L$ keine kontextfreie Grammatik gibt. Wir gehen wie
        folgt vor: wir nehmen eine kontextfreie Grammatik
        <span class="nowrap">$G$,</span>
        die jedes
        Wort $\gamma \in L$ ableiten kann. Dann sehen wir uns den
        Ableitungsbaum für ein "sehr langes" $\gamma$ an und werden
        sehen, dass wir in $G$ andere Wörter $\gamma'$ ableiten können,
        die nicht in $L$ sind. Somit haben wir gezeigt, dass $G$ keine
        korrekte Grammatik für $L$ ist. Als erstes verlangen wir, dass
        $G$ in Chomsky-Normalform vorliegt. Dann schauen wir uns für ein
        $\gamma = a^n b^n c^n$ den Ableitungsbaum an:
      </p>
      <div class="figure__container">
        <figure>
          <img
            style="height:14em"
            src="img/context-free/pumping-lemma-01.svg"
          >
        </figure>
      </div>
      <p>
        Nun betrachten wir in diesem Ableitungsbaum den längsten Pfad
        von $S$ zu einem Nichtterminalknoten
        <span class="nowrap">$X$,</span>
        der direkt über den
        Terminalen steht. Wenn dieser Länge $d$ hat (also $d$ Kanten
        lang ist), dann hat der Baum höchstens $2^d$ Blätter, also
        <span class="nowrap">$|\gamma| \leq 2^d$.</span>
        Wenn nun $|\gamma| \geq 2^{|N|} =: p$ ist,
        dann gibt es einen Pfad der Länge $|N|$ von diesem $X$ aufwärts
        richtung
        <span class="nowrap">$S$.</span>
        Auf diesem liegen $|N|+1$ Nichtterminalsymbole,
        mehr als es in $G$ gibt; also muss ein Terminalsymbol zweimal
        vorkommen:
      </p>
      <div class="figure__container">
        <figure>
          <img
            style="height:14em"
            src="img/context-free/pumping-lemma-02.svg"
          >
        </figure>
      </div>
      <p>
        Der Pfad vom oberen $Z$ zu irgendeinem Nichtterminal darunter
        hat höchstens Länge $N$ (so haben wir diesen Pfad gewählt), und
        somit hat das Unterwort $vwx$ höchstens $p = 2^{|N|}$ Zeichen.
        Wenn wir nun das Wort $a^nb^nc^n$ für ein sehr großes $n$
        betrachten, sagen wir $n \geq p = 2^{|N|}$ , dann kann das Wort
        $vwx$ nicht alle drei Symbole $a,b,c$ enthalten; sonst würde es
        ja alle $n$ Symbole $b$ und noch weitere enthalten, wäre also
        länger als
        <span class="nowrap">$n \geq p$;</span>
        allerdings haben wir ja gesehen, dass
        $|vwx| \leq p$ gilt. Nehmen wir nun also der Einfachheit halber
        an, dass $vwx$ nicht das Symbol $c$ enthält: $vwx \in \{a,b\}^*$
        (der andere Fall ist symmetrisch und kann mit den gleichen
        Argumenten wie unten behandelt werden). Nun holen wir zum
        entscheidenden Schlag aus: wir "pumpen" das Wort $\gamma$ auf,
        indem wir die Teilbäume mit $Z$ an der Wurzel wiederholen.
        Konkret besagt ja oberer Baum, dass $\gamma$ wie folgt
        hergeleitet wurde:
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        S \Step{}^* u Z v \Step{}^* uvZxy \Step{}^* uvwxy
        \end{align*}
        $$
      </div>
      <p>
        Insbesondere heißt das, dass $Z \Step{}^* vZx$ gilt. Wir können
        diesen Schritt also wiederholen:
      </p>
      <div class="figure__container">
        <figure>
          <img
            style="height:18em"
            src="img/context-free/pumping-lemma-03.svg"
          >
        </figure>
      </div>
      <p>
        und somit das Wort $uvvwxxy$ und ganz allgemein jedes Wort
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        uv^i w x^i y
        \end{align*}
        $$
      </div>
      <p>
        ableiten, für jedes
        <span class="nowrap">$i \geq 0$.</span>
        Selbst für $i = 0$ geht das:
      </p>
      <div class="figure__container">
        <figure>
          <img
            style="height:14em"
            src="img/context-free/pumping-lemma-04.svg"
          >
        </figure>
      </div>
      <p>
        Betrachten wir nun das Wort
        <span class="nowrap">$uwy$.</span>
        Wir haben ja gesehen, dass in
        $uvwxy$ alle
        <span class="nowrap">$c$-Symbole</span>
        rechts von $vwx$ liegen, also in
        <span class="nowrap">$y$.</span>
        Das Wort $uwy$ hat also immer noch $n$ viele $c$ -Symbole.
        Allerdings hat es die Symbole in $v$ und $x$ verloren! Wir
        wissen nicht, wieviele davon $a$ und $b$ waren, aber eines ist
        ganz klar: in $uwy$ kommen die Symbole $a,b,c$ nicht mehr gleich
        häufig vor, und somit
        <span class="nowrap">$uwy\not \in L$.</span>
        Wir haben also gezeigt,
        dass die kontextfreie Grammatik $G$
        <i>nicht</i>
        die Sprache $L$
        erzeugt: wenn wir alle $\gamma \in L$ erzeugen kann, dann kann
        sie auch Wörter wie $uwy \not \in L$ erzeugen. Da unsere
        Argumentation keine Annahmen über $G$ getroffen hat, außer, dass
        sie kontextfrei ist, haben wir gezeigt: $L$ ist keine
        kontextfreie Sprache.
        <b>Vorsicht!</b>
        Wir haben angenommen, das $uwy$
        weniger Zeichen hat als
        <span class="nowrap">$uvwxy$,</span>
        weil ja $v$ und $x$ fehlen.
        Kann aber $v = x = \epsilon$ eintreten? Dies würde unsere
        Argumentation zerstören. Hier kommt wieder die Chomsky-Normalform
        zur Hilfe: es gibt keine Produktionen
        <span class="nowrap">$X \rightarrow \epsilon$,</span>
        (außer vielleicht für das Startsymbol
        <span class="nowrap">$S$,</span>
        welches dann aber
        nicht auf einer rechten Seite auftreten dürfte). Ganz allgemein:
        wenn eine Grammatik $G$ in Chomsky-Normalform ein Wort $\gamma$
        herleitet und
        <span class="nowrap">$\gamma \ne \epsilon$,</span>
        dann kommt in der Ableitung
        keine
        <span class="nowrap">$\epsilon$-Produktion</span>
        zur Anwendung.
      </p>
    </div>
    <p class="main-column">
      Die obige Argumentationslinie ist als
      <i>Pumping Lemma für
        kontextfreie Sprachen</i>
      bekannt:
    </p>
    <div class="well statement out">
      <p>
        <b>Theorem</b>
        <b>6.11.2</b>
        <b>(Pumping Lemma für kontextfreie Sprachen)</b>
        Für jede
        kontextfreie Grammatik $G$ gibt es eine Zahl
        <span class="nowrap">$p \in \N$,</span>
        so dass
        jedes Wort $\gamma \in L(G)$ der Länge $|\gamma| \geq p$ zerlegt
        werden kann in
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        \gamma = uvwxy \ ,
        \end{align*}
        $$
      </div>
      <p>
        wobei $|vwx| \leq p$ gilt und $v,x$ nicht beide $\epsilon$ sind,
        so dass
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        u v^i w x^i y \in L(G)
        \end{align*}
        $$
      </div>
      <p>
        gilt, für alle
        <span class="nowrap">$i \geq 0$.</span>
        Die Zahl $p$ kann zum Beispiel als
        $2^{N_{\rm CNF}}$ gewählt werden, wobei $N_{\rm CNF}$ die Anzahl
        der Nichtterminale in einer zu $G$ äquivalenten
        Chomsky-Normalform ist.
      </p>
    </div>
    <div class="well statement out">
      <p>
        <b>Übungsaufgabe</b>
        <b>6.11.3</b>
        Sei $L \subseteq \{a,b,c\}^n$ die Sprache aller Wörter
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        \{\alpha c \alpha \ | \ \alpha \in \{a,b\}^* \} \ .
        \end{align*}
        $$
      </div>
      <p>
        In Worten: rechts und links vom $c$ in der Mitte muss das
        gleiche Teilwort stehen. Zeigen Sie analog zu dem vorherigen
        Beweis, dass $L$ nicht kontextfrei ist.
      </p>
    </div>
    <div
      id="_28_hgi_"
      class="well statement out"
    >
      <p>
        <b>Übungsaufgabe</b>
        <b>6.11.4</b>
        Sie $L \subseteq \{1\}^*$ die Sprache aller Wörter, deren Länge
        eine Zweierpotenz ist:
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        L := \{ 1^n \ | \ n = 2^d \textnormal{ für ein \(d \in \N\)} \}
        \end{align*}
        $$
      </div>
      <p>
        Also
        <span class="nowrap">$L = \{1, 11, 1111, 11111111, 1111111111111111, \dots\}$.</span>
        Zeigen Sie, dass $L$ nicht kontextfrei ist.
      </p>
    </div>
    <h3 class="main-column subtopic-announcement">
      Mengenoperationen auf kontextfreien Sprachen
    </h3>
    <p class="main-column">
      Im Kapitel über reguläre Sprachen hatten wir folgende
      Abschlusseigenschaften:
    </p>
    <div class="well statement out">
      <p>
        <b>Theorem</b>
        <b>6.11.5</b>
        Wenn $L_1, L_2$ reguläre Sprachen sind, dann sind die folgenden
        Sprachen auch regulär:
      </p>
      <ol>
        <li>
          <p>
            <span class="nowrap">$L_1 \cup L_2$.</span>
            Das war einfach: wir kombinieren die
            Grammatiken und fügen die Startproduktionen
            $S \rightarrow S_1 \ | \ S_2$ hinzu.
          </p>
        </li>
        <li>
          <p>
            <span class="nowrap">$L_1 \circ L_2$.</span>
            Das war schon schwieriger, ging aber auch
            irgendwie.
          </p>
        </li>
        <li>
          <p>
            <span class="nowrap">$L_1^*$.</span>
            Das ging ähnlich zum vorherigen.
          </p>
        </li>
        <li>
          <p>
            <span class="nowrap">$\bar{L}_1 := \Sigma^* \setminus L_1$,</span>
            die
            Komplementsprache. Das ist einfach, sobald man einen
            endlichen Automaten für $L_1$ gebaut hat: man tauscht
            akzeptierende und nicht-akzeptierende Zustände aus.
          </p>
        </li>
        <li>
          <p>
            <span class="nowrap">$L_1^R$,</span>
            die Sprache, die entsteht, wenn man jedes Wort in
            $L_1$ von rechts nach links liest. Dies ist gar nicht so
            offensichtlich, wenn man reguläre Grammatiken oder endliche
            Automaten ansieht. Wenn man aber für $L_1$ einen
            <i>regulären
              Ausdruck</i>
            gebaut hat, wird es zur Trivialität: einfach den
            Ausdruck umdrehen.
          </p>
        </li>
        <li>
          <p>
            <span class="nowrap">$L_1 \cap L_2$.</span>
            Hierfür könnte man für $L_1, L_2$ jeweils
            endliche Automaten $M_1, M_2$ bauen und die dann "parallel"
            laufen lassen; man muss nun sehen, dass man dieses parallele
            Laufen mit
            <i>einem</i>
            Automaten simulieren kann: dieser hat als
            Zustandsmenge
            <span class="nowrap">$Q_1 \times Q_2$,</span>
            merkt sich also in
            <i>einem</i>
            Zustand, in welchen Zuständen $M_1$ und $M_2$ sind. Oder man
            macht es sich einfach:
          </p>
          <ul>
            <li>
              <p>
                Nach Punkt 4 sind $\bar{L}_1$ und $\bar{L}_2$ regulär.
              </p>
            </li>
            <li>
              <p>
                Nach Punkt 1 daher auch $\bar{L}_1 \cup \bar{L}_2$ ist
                regulär.
              </p>
            </li>
            <li>
              <p>
                Nach Punkt 4 ist daher wiederum
                $\overline{\bar{L}_1 \cup \bar{L}_2}$ regulär, was nach
                den De-Morganschen Gesetzen die gleiche Menge ist wie
                <span class="nowrap">$L_1 \cap L_2$.</span>
              </p>
            </li>
          </ul>
        </li>
      </ol>
      <p>
        Wie sieht es nun aus, wenn $L_1, L_2$
        <i>kontextfreie</i>
        Sprachen
        sind? Welche der obigen Kombinationen sind dann ebenfalls
        kontextfrei?
      </p>
      <div class="well statement">
        <p>
          <b>Übungsaufgabe</b>
          <b>6.11.6</b>
          Seien $L_1, L_2$ kontextfrei. Zeigen Sie, dass die folgenden
          Sprachen auch kontextfrei sind:
        </p>
        <ol>
          <li>
            <p>
              $L_1 \cup L_2$
            </p>
          </li>
          <li>
            <p>
              $L_1 \circ L_2$
            </p>
          </li>
          <li>
            <p>
              $L_1^*$
            </p>
          </li>
          <li>
            <p>
              Überspringen wir
              <span class="nowrap">$\bar{L}_1$;</span>
              dieses ist nämlich im
              Allgemeinen nicht kontextfrei.
            </p>
          </li>
          <li>
            <p>
              $L_1^R$
            </p>
          </li>
          <li>
            <p>
              Überspringen wir
              <span class="nowrap">$L_1 \cap L_2$;</span>
              dieses ist nämlich im
              Allgemeinen nicht kontextfrei.
            </p>
          </li>
        </ol>
        <p>
          <b>Tip:</b>
          dies ist viel einacher als für reguläre Grammatiken.
        </p>
      </div>
    </div>
    <p class="main-column">
      Wie schon angedeutet, geben uns Komplement und Schnittmenge im
      Allgemeinen keine kontextfreie Sprache. Das Gegenbeispiel haben wir
      schon fast gesehen:
    </p>
    <div class="well statement out">
      <p>
        <b>Beobachtung</b>
        <b>6.11.7</b>
        Der Schnitt $L_1 \cap L_2$ zweier kontextfreier Sprachen ist im
        Allgemeinen
        <i>nicht</i>
        kontextfrei. Ein Beispiel ist
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        L_1 &amp; := \{a^n b^n c^* \ | \ n \geq 0 \}\\
        L_2 &amp; := \{a^* b^n c^n \ | \ n \geq 0 \}
        \end{align*}
        $$
      </div>
      <p>
        Diese sind beide kontextfrei (schreiben Sie jeweils eine
        Grammatik, wenn Sie's nicht glauben). Der Schnitt allerdings ist
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        L_1 \cap L_2 = \{a^n b^n c^n \ | \ n \geq 0\} \ ,
        \end{align*}
        $$
      </div>
      <p>
        genau diejenige Sprache, für die wir oben gezeigt haben, dass
        sie nicht kontextfrei ist.
      </p>
    </div>
    <div class="well statement out">
      <p>
        <b>Beobachtung</b>
        <b>6.11.8</b>
        Das Komplement $L$ einer kontextfreien Sprache ist im
        Allgemeinen
        <i>nicht</i>
        kontextfrei. \\ Warum? Wenn er es wäre, dann
        wäre mit Hilfe von Punkt 1 auch
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        L_1 \cap L_2 = \overline{ \bar{L}_1 \cup \bar{L_2}}
        \end{align*}
        $$
      </div>
      <p>
        kontextfrei, was es aber im Allgemeinen nicht ist.
        Befriedigender wäre es allerdings, wenn wir ein konkretes
        Beispiel hätten.
      </p>
    </div>
    <div class="well statement out">
      <p>
        <b>Übungsaufgabe</b>
        <b>6.11.9</b>
        Sei
        <span class="nowrap">$L := \{a^n b^n c^n\}$.</span>
        Wir wissen bereits, dass $L$ nicht
        kontextfrei ist. Zeigen Sie, dass $\bar{L}$ kontextfrei ist. Die
        Sprache $\bar{L}$ ist somit ein Beispiel für eine kontextfreie
        Sprache, deren Komplement, also
        <span class="nowrap">$L$,</span>
        nicht kontextfrei ist.
        <b>Tip.</b>
        Listen Sie alle Möglichkeiten auf, wie ein Wort $w$ nicht
        in $L$ sein kann: (1) es hat nicht die Form $a^* b^* c^*$ ; (2)
        es hat die Form, hat aber mehr $a$ als es $b$ hat; (2) es hat
        mehr $a$ als es $c$ hat...
      </p>
    </div>
    <div id="end-of-page-elt">
    </div>
    <div id="bottom-menu">
      <div id="bottom-menu-left">
        <a href="./6-10.html">&lt;&lt; Kapitel 6.10<span
            style="visibility:hidden"
            id="bottom-prev-page-tooltip"
          >Allgemeines Parsing</span></a>
      </div>
      <div id="bottom-menu-right">
        <a href="./7-0.html">Kapitel 7 &gt;&gt;<span
            style="visibility:hidden"
            id="bottom-next-page-tooltip"
          >Allgemeine Grammatiken</span></a>
      </div>
    </div>
  </div>
</body>
</html>
