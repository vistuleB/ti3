<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <meta name="description" content="Section 5.1 of TI-2 - Theoretische Informatik 2">
  <link rel="stylesheet" type="text/css" href="app.css" />
  <script type="text/javascript" src="./mathjax_setup.js"></script>
  <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
  <script type="text/javascript" src="./app.js"></script>
  <title>TI-2 - Chapter 5, Section 1</title>
</head>
<body>
  <div class="body-wrapper">
    <div id="top-menu">
      <div id="top-menu-left">
        <a href="./index.html"><span class="inhalts_arrows">&lt;&lt;
          </span>Inhaltsverzeichnis</a><a
          id="prev-page"
          href="./5-0.html"
        >&lt;&lt; Kapitel 5<span
            style="visibility:hidden"
            id="top-prev-page-tooltip"
          >Reguläre Sprachen</span></a>
      </div>
      <div id="top-menu-right">
        <a href="https://www.tu-chemnitz.de/informatik/theoretische-informatik/TI-2/index.html.en">zür Kursübersicht</a><a
          id="next-page"
          href="./5-2.html"
        >Kapitel 5.2 &gt;&gt;<span
            style="visibility:hidden"
            id="top-next-page-tooltip"
          >Endliche Automaten</span></a>
      </div>
    </div>
    <div class="main-column page-title">
      <p>
        5.1&ensp;Reguläre Grammatiken
      </p>
    </div>
    <p class="main-column">
      Reguläre Grammatiken sind eine Untermenge der kontextfreien
      Grammatiken. Sie sind einerseits mächtig genug, um viele Dinge
      modellieren zu können (zum Beispiel syntaktisch korrekte
      Emailadressen), andererseits restriktiv genug, um algorithmisch gut
      bearbeitbar zu sein. Insbesondere ist das Parsen von regulären
      Grammatiken immer in linearer Zeit möglich.
    </p>
    <div
      id="_12_hgi_"
      class="well statement out"
    >
      <p>
        <b>Definition</b>
        <b>5.1.1</b>
        Eine kontextfreie Sprache $G = (\Sigma, N, P, S)$ heißt
        <span class="nowrap"><i>regulär</i>,</span>
        wenn jede Produktion eine der folgenden vier Formen
        hat:
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        X&amp;\rightarrow aY \\ X&amp;\rightarrow a \\ X&amp;
        \rightarrow Y \\ X&amp;\rightarrow \epsilon
        \end{align*}
        $$
      </div>
      <p>
        Eine Sprache $L \subseteq \Sigma^*$ heißt
        <span class="nowrap"><i>regulär</i>,</span>
        wenn es
        eine reguläre Grammatik $G$ gibt, die sie erzeugt, also
        <span class="nowrap">$L(G) = L$.</span>
      </p>
    </div>
    <div class="well statement out">
      <p>
        <b>Beispiel</b>
        <b>5.1.2</b>
        Die folgende Grammatik über dem Alphabet
        <span class="nowrap">$\Sigma = \{1\}$,</span>
        den
        nichtterminalen Symbolen $\{E,O\}$ und den Regeln
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        E&amp;
        \rightarrow 1O \ | \ \epsilon \\ O&amp;\rightarrow 1E
        \end{align*}
        $$
      </div>
      <p>
        erzeugt die Sprache
        <span class="nowrap">$\{\epsilon, 11, 1111, 111111, \dots \}= \{1^n | n
          \textnormal{ ist gerade}\}$.</span>
      </p>
    </div>
    <div
      id="_13_hgi_"
      class="well statement out"
    >
      <p>
        <b>Beispiel</b>
        <b>5.1.3</b>
        Die folgende Grammatik haben wir bereits im letzten Abschnitt
        kennengelernt. Sie ist nicht regulär:
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        S&amp;\rightarrow A
        B \\ A&amp;\rightarrow \epsilon \ | \ a A \\ B&amp;\rightarrow \epsilon \
        | \ b B \ . \\
        \end{align*}
        $$
      </div>
      <p>
        Sie ist nicht regulär, weil die erste Regel $S \rightarrow AB$
        gegen die Definition regulärer Grammatiken verstößt. Allerdings
        können wir leicht eine reguläre Grammatik $G'$ angeben, die die
        gleiche Sprache erzeugt:
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        S&amp;\rightarrow \epsilon \ |\ a S \ | \ b T \\ T&amp;
        \rightarrow \epsilon \ | \ b T \ .
        \end{align*}
        $$
      </div>
      <p>
        Hier ist beispielsweise eine Ableitung des Wortes
        <span class="nowrap">$aabbb$:</span>
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        S
        \Rightarrow aS \Rightarrow aaS \Rightarrow aabT \Rightarrow aabbT
        \Rightarrow aabbbT \Rightarrow aabbb
        \end{align*}
        $$
      </div>
      <p>
        Wir sehen, dass wir eine Folge von
        <span class="nowrap">$a$'s</span>
        erzeugen können, bei
        der ersten Produktion eines $b$ auf das Nichtterminal $B$
        wechseln, welches dann ausschließlich weitere
        <span class="nowrap">$b$'s</span>
        erzeugen
        kann.
      </p>
    </div>
    <p class="main-column">
      Wir sehen: jede Wortform in der Ableitung besteht aus einer Folge
      von Terminalen, eventuell ganz am Schluss gefolgt von einem
      Nichtterminal. Halten wir diese erste Beobachtung formal fest.
    </p>
    <div class="well statement out">
      <p>
        <b>Beobachtung</b>
        <b>5.1.4</b>
        Sei $G = (\Sigma, N, P, S)$ eine reguläre Grammatik und
        $S \Rightarrow^* \alpha$ eine Ableitung einer Wortform
        <span class="nowrap">$\alpha \in (\Sigma \cup N)^*$.</span>
        Dann hat $\alpha$ die Form $y X$
        für $y \in \Sigma^*$ und
        <span class="nowrap">$X \in N \cup \{\epsilon\}$.</span>
      </p>
    </div>
    <p class="main-column">
      Sie sollen nun an einer Reihe von Übungsaufgaben arbeiten, um ein
      Gefühl dafür zu bekommen, was reguläre Grammatiken tun können und
      was nicht.
    </p>
    <div class="well exercise out">
      <p>
        <b>Übungsaufgabe 5.1.1</b>
        Betrachten Sie die Gramatik über
        <span class="nowrap">$\Sigma = \{0,1\}$:</span>
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        S&amp;\rightarrow 1 S \ | \ 0 S \ | \ 0
        \end{align*}
        $$
      </div>
      <p>
        Leiten Sie das Wort $11010$ ab. Beschreiben Sie in eigenen
        Worten die erzeugte Sprache.
      </p>
    </div>
    <div
      id="_14_hgi_"
      class="well exercise out"
    >
      <p>
        <b>Übungsaufgabe 5.1.2</b>
        Betrachten Sie die Grammatik über
        <span class="nowrap">$\Sigma = \{0,1\}$:</span>
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        A&amp;\rightarrow 0 A \ | 1 A \ | 1 B \\ B&amp;\rightarrow 0 C \ | 1 C \\
        C&amp;\rightarrow 0 D \ | 1 D \\ D&amp;\rightarrow 0 E \ | 1 E \\ E&amp;
        \rightarrow \epsilon \
        \end{align*}
        $$
      </div>
      <p>
        mit Startsymbol
        <span class="nowrap">$A$.</span>
        Leiten Sie das Wort $01101001$ ab und
        beschreiben Sie die erzeugte Sprache in eigenen Worten.
      </p>
    </div>
    <div class="well exercise out">
      <p>
        <b>Übungsaufgabe 5.1.3</b>
        Betrachten Sie das Alphabet $\Sigma = \{1\}$ und die Sprache
      </p>
      <div class="math-block">
        $$
        L :=
        \{1^n \ | \ \textnormal{ $n$ ist durch 3 teilbar} \} \ .
        $$
      </div>
      <p>
        Schreiben Sie eine reguläre Grammatik für
        <span class="nowrap">$L$.</span>
      </p>
    </div>
    <div class="well exercise out">
      <p>
        <b>Übungsaufgabe 5.1.4</b>
        Betrachten Sie die Sprache
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        L := \{x \in \{a,b\}^* \ | \
        \textnormal{in $x$ kommt $b$ mindestens 4 mal vor }\} \
        \end{align*}
        $$
      </div>
      <p>
        und entwerfen Sie eine reguläre Grammatik für
        <span class="nowrap">$L$.</span>
      </p>
    </div>
    <div class="well exercise out">
      <p>
        <b>Übungsaufgabe 5.1.5</b>
        Sei $\Sigma = \{a,b,.\}$ und $L \subseteq \Sigma^*$ die Sprache
        aller Strings der Form
      </p>
      <div class="math-block">
        $$
        x_1 . x_2 . x_3 . \cdots . x_n
        $$
      </div>
      <p>
        wobei $n \geq 2$ und jedes
        <span class="nowrap">$x_i \in \{a,b\}^+$,</span>
        also zum
        Beispiel
        <code>a.bba.aba</code>
        aber nicht
        <code>aba</code>
        und auch nicht
        <code>a.b..a</code>
        Entwerfen Sie eine reguläre Grammatik für diese Sprache.
      </p>
    </div>
    <div class="well exercise out">
      <p>
        <b>Übungsaufgabe 5.1.6</b>
        Unsere
        <a href="./5-0.html#email-context-free-grammar">Grammatik für korrekte
          Emailadressen</a>
        im letzten Abschnitt
        war
        <i>nicht</i>
        regulär. Allerdings können wir eine reguläre
        Grammatik angeben, die die gleiche Sprache erzeugt. Entwerfen Sie
        eine reguläre Grammatik für die Sprache aller korrekter
        Emailadressen über dem Alphabet
        <span class="nowrap">$\Sigma = \{a,b,.,-,@\}$.</span>
        Sie
        dürfen natürlich noch weitere Buchstaben zulassen, dann schreiben
        Sie sich aber schnell zu Tode.
      </p>
    </div>
    <h2 class="main-column topic-announcement">
      Erweitert reguläre Grammatiken
    </h2>
    <p class="main-column">
      In einer Übungsaufgabe oben wurden Sie aufgefordert, eine reguläre
      Grammatik zu schreiben für die Sprache aller $1^n$ mit $n$ durch 3
      teilbar. Hier ist eine besonders einfache Lösung:
    </p>
    <div class="math-block main-column">
      $$
      \begin{align*}
      S \rightarrow \epsilon \ | \ 111S
      \end{align*}
      $$
    </div>
    <p class="main-column">
      Sehen Sie, Sie können hier Einsen nur in Dreierblöcken erzeugen.
      Leider ist diese Grammatik nicht regulär nach unserer obigen
      Definition. Was tun wir, wenn wir nicht zufrieden sind mit einer
      Definition? Wir wandeln sie ab.
    </p>
    <div class="well statement out">
      <p>
        <b>Definition</b>
        <b>5.1.5</b>
        Eine Grammatik $G = (\Sigma, N, P, S)$ heißt
        <span class="nowrap"><i>erweitert
            regulär</i>,</span>
        wenn jede Produktion eine der folgenden Formen hat:
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        X&amp;\rightarrow \alpha Y \\ X&amp;\rightarrow
        \alpha \\
        \end{align*}
        $$
      </div>
      <p>
        hat, wobei $X \in N$ und $\alpha \in \Sigma^*$ ist. Im
        Unterschied zu den eigentlich regulären Grammatiken erlauben wir
        also mehrere terminale Symbole auf der rechten Seite, sofern Sie
        <i>vor</i>
        dem Nichtterminal vorkommen.
      </p>
    </div>
    <div class="well statement out">
      <p>
        <b>Theorem</b>
        <b>5.1.6</b>
        Sei $G = (\Sigma, N, P, S)$ eine erweitert reguläre Grammatik.
        Dann existiert eine reguläre Grammatik
        <span class="nowrap">$G' = (\Sigma, N', P', S)$,</span>
        die die gleiche Sprache erzeugt:
        <span class="nowrap">$L(G) = L(G')$.</span>
      </p>
    </div>
    <div class="well highlight out">
      <p>
        <b>Beweis.</b>
        Wir ersetzen einfach jede Regel der Form
      </p>
      <div class="math-block">
        $$
        X \rightarrow a_1 a_2
        \dots a_k Y
        $$
      </div>
      <p>
        durch $k$ reguläre Regeln:
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        X&amp;
        \rightarrow a_1 X_2 \\ X_2&amp;\rightarrow a_2 X_3 \\ \dots \\ X_k&amp;
        \rightarrow a_k Y
        \end{align*}
        $$
      </div>
      <p>
        wobei wir darauf achten, dass $X_2, \dots, X_k$ "frische"
        Nichtterminalsymbole sind. Falls $\alpha = \epsilon$ ist, so ist
        die Regel bereits in einer in regulären Grammatiken erlaubten
        Form: $X \rightarrow Y$ oder
        <span class="nowrap">$X \rightarrow \epsilon$.</span><span style="color:#0000;visibility:none;">A</span><span class="qed">\(\square\)</span>
      </p>
    </div>
    <p class="main-column">
      Wir können nun, wenn wir reguläre Grammatik entwerfen wollen, die
      bequemeren erweitert regulären Sprachen verwenden; wenn wir Dinge
      über reguläre Grammatik beweisen wollen (oder deren Grenzen
      studieren wollen), können wir uns auf die eigentlichen regulären
      Grammatiken beschränken, da wir wissen, dass beide Definition eh
      gleich mächtig sind.
    </p>
    <h2 class="main-column topic-announcement">
      Reguläre Grammatiken vereinfachen
    </h2>
    <p class="main-column">
      Das letzte Theorem erlaubt uns, eine Definition von regulären
      Grammatiken zu verwenden, die uns mehr erlaubt. Im Folgenden zeigen
      wir, wie man die Form der Grammatiken noch stärker einschränken
      kann, ohne dass Sie an Mächtigkeit einbüßen. Per
      <a
        href="./5-1.html#_12_hgi_"
        class=""
      >Definition 5.1.1</a>
      hat jede Produktion in einer regulären Grammatik eine
      der folgenden vier Formen:
    </p>
    <div class="math-block main-column">
      $$
      \begin{align*}
      1.
      \quad X&amp;\rightarrow aY \\ 2. \quad X&amp;\rightarrow a \\ 3. \quad X&amp;
      \rightarrow Y \\ 4. \quad X&amp;\rightarrow \epsilon
      \end{align*}
      $$
    </div>
    <p class="main-column">
      Wir zeigen nun, dass man auf Produktionen der Form 2 und 3
      verzichten kann.
    </p>
    <div
      id="_15_hgi_"
      class="well statement out"
    >
      <p>
        <b>Theorem</b>
        <b>5.1.7</b>
        Sei $G = (\Sigma, N, P, S)$ eine reguläre Grammatik. Dann gibt
        es eine äquivalente reguläre Grammatik
        <span class="nowrap">$G' = (\Sigma, N', P', S)$,</span>
        die nur Regeln vom Typ 1 und 4
        enthält.
      </p>
    </div>
    <div class="well highlight out">
      <p>
        <b>Beweis.</b>
        Produktionen vom Typ 2, also von der Form $X \rightarrow a$
        können wir leicht eliminieren, indem wir ein neues
        Nichtterminalsymbol $E \not \in \Sigma \cup N$ einführen, jedes
        $X \rightarrow a$ durch $X \rightarrow aE$ ersetzen und die
        Produktion $E \rightarrow \epsilon$ hinzufügen. Produktionen der
        Form $X \rightarrow Y$ zu eliminieren ist etwas komplizierter.
        Die Idee ist, dass in einer von $X$ ausgehende Ableitung eines
        Wortes irgendwann zum ersten Mal eine Wortform $\alpha$
        vorkommen muss, die nicht ein einzelnes Nichtterminalsymbol ist,
        also $X \Rightarrow^* Y \Rightarrow \alpha$ mit
        $\alpha \not \in N$ . Wir definieren nun
      </p>
      <div class="math-block">
        $$
        P' := \{
        X \rightarrow \alpha \ | \ \alpha \textnormal{ ist kein einzelnes
        Nichtterminal, und es gibt $Y \in N$ mit $X \Rightarrow^* Y$ und
        $Y \rightarrow \alpha$}) \}
        $$
      </div>
      <p>
        als neue Menge von Produktionen, die keine Produktionen von der
        Form $X \rightarrow Y$ enthalten.<span style="color:#0000;visibility:none;">A</span><span class="qed">\(\square\)</span>
      </p>
    </div>
    <p class="main-column">
      Im vorhergehenden Beweis haben wir nicht formal gezeigt, dass
      $L(G')= L(G)$ gilt. Unser Kernargument war das etwas saloppe
      "irgendwann muss ja mal eine Produktion kommen, die nicht von der
      Form $X \rightarrow Y$ ist". Anstatt den Beweis formal
      durchzuführen, stellen wir uns lieber eine interessantere Frage:
      wie können wir die neuen Produktionen $P'$ im konkreten Fall die
      Mengen berechnen? Dann das müssen wir ja tun, wenn wir eine solche
      Transformation durchführen wollen. Im Prinzip müssen wir alle
      Nichtterminale $X$ und alle Produktionen $Y \rightarrow \alpha$
      mit $\alpha \not \in N$ durchgehen und überprüfen, ob
      $X \Rightarrow^* Y$ gilt. Dies können wir beispielsweise
      überprüfen, indem wir die Mengen
    </p>
    <div class="math-block main-column">
      $$
      \begin{align*}
      N_k(X) := \{ Y \in N \ | \
      \textnormal{ es gibt } X_1,\dots, X_{l-1} \textnormal{ mit } X
      \rightarrow X_1 \rightarrow X_2 \cdots X_{l-1} \rightarrow Y
      \textnormal{ und } l \leq k \}
      \end{align*}
      $$
    </div>
    <p class="main-column">
      definieren, also die Menge derjenigen Nichtterminalsymbole, die
      sich in bis zu $k$ Schritten von $X$ aus ableiten lassen. Wir
      berechnen die $N_k$ iterativ wie folgt:
    </p>
    <div class="math-block main-column">
      $$
      \begin{align*}
      N_0 (X)&amp;:= \{X\} \ , \\ N_{k+1}
      (X)&amp;:= N_k \cup \{Z \in N \ | \ \textnormal{ es gibt } Y \in
      N_k(X) \textnormal{ mit } Y \rightarrow Z \} \ .
      \end{align*}
      $$
    </div>
    <p class="main-column">
      Die Menge $N_{k+1}(X)$ lässt sich also mit zwei geschachtelten
      <span class="nowrap"><code>for</code>-Schleifen</span>
      berechnen: eine über die $Y \in N_k$ und eine über
      die Produktionen
      <span class="nowrap">$Y \rightarrow Z$.</span>
      Um $N_{k+1}(X)$ für
      <i>alle</i>
      $X \in N$ zu berechnen, brauchen wir eine weitere
      <span class="nowrap"><code>for</code>-Schleife.</span>
      Wir berechnen nun $N_{\geq k}$ für steigende
      <span class="nowrap">$k$,</span>
      bis keine
      weitere Veränderung eintritt.
    </p>
    <div class="well statement out">
      <p>
        <b>Beobachtung</b>
        <b>5.1.8</b>
        Wenn
        <span class="nowrap">$N_{k+1}(X) = N_k(X)$,</span>
        dann ist
        $N_k(X) = N_{k+1}(X) = N_{k+2}(X)= \dots$
      </p>
    </div>
    <p class="main-column">
      Da die Menge $N_k$ nur wachsen kann, gilt nach höchstens $n = |N|$
      Schritten $N_n(X) = N_{n+1}(X)$ und somit
    </p>
    <div class="math-block main-column">
      $$
      N_n(X) = \{Y
      \in N \ | \ X \Rightarrow^* Y\} \ .
      $$
    </div>
    <p class="main-column">
      Das geht auch aus einer anderen Überlegung hervor: wenn man
      überhaupt $X \Rightarrow Y$ ableiten kann, dann auch in maximal
      $|N|$ Schritten, denn ansonsten kämen ja in der Ableitung ein
      Nichtterminal doppelt vor und man könnte abkürzen.
    </p>
    <div
      id="_16_hgi_"
      class="well exercise out"
    >
      <p>
        <b>Übungsaufgabe 5.1.7</b>
        Sei
        <span class="nowrap">$\Sigma = \{a,b,c\}$.</span>
        Die Grammatik mit den Regeln
        $A \rightarrow \epsilon \ | \ b A \ | \ c A$ erzeugt die Sprache
        aller Wörter, die kein $a$ enthalten. Die Grammatik
        $B \rightarrow \epsilon \ | \ a B \ | \ c B$ erzeugt die Wörter,
        die kein $b$ enthalten. Die Grammatik $G$ mit Startsymbol $S$
        und den Produktionen
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        S&amp;\rightarrow A \ | \ B \\ A&amp;
        \rightarrow \epsilon \ | \ b A \ | \ c A \\ B&amp;\rightarrow \epsilon
        | \ a B \ | \ c B
        \end{align*}
        $$
      </div>
      <p>
        erzeugt die Sprache aller Wörter, die kein $a$ oder kein $b$
        enthalten. Die Grammatik $G$ ist regulär, enthält aber
        Produktionen vom Typ 3, zum Beispiel
        <span class="nowrap">$S \rightarrow A$.</span>
        Schreiben Sie eine äquivalente Grammatik
        <span class="nowrap">$G'$,</span>
        die nur
        Produktionen von der Form $X \rightarrow bY$ und
        $X \rightarrow \epsilon$ enthält.
      </p>
    </div>
    <p class="main-column">
      Wir können zwar auf Produktionen vom Typ 2 und 3 verzichten. Dies
      hat allerdings seinen Preis, wie die folgende Übungsaufgabe zeigt:
    </p>
    <div class="well exercise out">
      <p>
        <b>Übungsaufgabe 5.1.8</b>
        Betrachten Sie die folgende Grammatik über
        $\Sigma = \{a_1,a_2,\dots,a_n\}$ mit den Nichtterminalsymbolen
        $\{S, A_1, A_2, \dots, A_n\}$ und den insgesamt $3n-1$
        Produktionen
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        S&amp;\rightarrow a_1 A_1 | a_2 A_2 | a_3 A_3 | \dots |
        a_n A_n \\ A_1&amp;\rightarrow a_1 | A_2 \\ \dots \\ A_i&amp;\rightarrow
        a_{i} | A_{i+1}\\ \dots \\ A_{n-1}&amp;\rightarrow a_{n-1} | A_n \\
        A_n&amp;\rightarrow a_n
        \end{align*}
        $$
      </div>
      <p>
        Schreiben Sie eine äquivalente Grammatik ohne Produktionen der
        Form
        <span class="nowrap">$X \rightarrow Y$.</span>
        Wieviele Produktion hat Ihre neue
        Grammatik?
      </p>
    </div>
    <h2
      id="_17_hgi_"
      class="main-column topic-announcement"
    >
      Reguläre Sprachen nach Baukastenprinzip bauen
    </h2>
    <p class="main-column">
      Eine schöne Eigenschaft von regulären Grammatiken ist, dass sie
      mächtig genug sind, um uns zu erlauben, die nach dem
      Baukastenprinzip zu komplizierteren Einheiten zusammenzufügen.
      Formate wie beispielsweise Emailadressen sind oft aufgebaut nach
      Mustern wie
    </p>
    <div class="main-column">
      <ul>
        <li>
          <p>
            Ding 1, dann Ding 2, wie beispielsweise
            <i>Username, dann
              <span class="nowrap"><code>@</code>,</span>
              dann Domainname</i>
          </p>
        </li>
        <li>
          <p>
            Ding, bliebig oft wiederholt, wie beispielsweise
            <i>eine
              beliebig lange Folge von Labels, mit
              <code>.</code>
              separiert.</i>
          </p>
        </li>
        <li>
          <p>
            Ding 1 oder Ding 2. Beispielsweise
            <span class="nowrap"><i>Bindestrich oder
                alphanumerisches Zeichen</i>.</span>
          </p>
        </li>
      </ul>
    </div>
    <div class="well statement out">
      <p>
        <b>Lemma</b>
        <b>5.1.9</b>
        Seien $L_1$ und $L_2$ zwei reguläre Sprachen. Dann ist
        $L_1 \cup L_2$ auch regulär.
      </p>
    </div>
    <div class="well highlight out">
      <p>
        <b>Beweis.</b>
        Unsere Strategie ist, reguläre Grammatiken $G_1$ für $L_1$ und
        $G_2$ für $L_2$ zu betrachten und daraus eine neue reguläre
        Grammatik $G$ für $L_1 \cup L_2$ zu bauen. Aus $G$ sollen also
        genau diejenigen Strings ableitbar sein, die in $L_1$ oder $L_2$
        enthalten sind. Seien nun $G_1 = (\Sigma_1, N_1, P_1, S_1)$ und
        $G_2 = (\Sigma_2, N_2, P_2, S_2)$ die beiden regulären
        Grammatiken. Wir gehen davon aus, dass
        <span class="nowrap">$N_1 \cap N_2 = \emptyset$,</span>
        dass es also bei den nichtterminalen
        Symbolen keinen Zweifel gibt, zu welcher Grammatik sie gehören.
        Falls dies nicht der Fall sein sollte, können wir zum Beispiel
        die Symbole in $N_2$ einfach umbenennen. Wir erschaffen nun ein
        neues Startsymbol $S \not \in N_1 \cup N_2$ und bauen uns eine
        neue Grammatik, in dem wir die zwei neuen Regeln
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        S&amp;\rightarrow S_1 \\ S&amp;\rightarrow S_2
        \end{align*}
        $$
      </div>
      <p>
        hinzufügen. Formal also
      </p>
      <div class="math-block">
        $$
        G := (\Sigma_1 \cup
        \Sigma_2, N_1 \cup N_2 \cup \{S\}, P_1 \cup P_2 \cup \{S
        \rightarrow S_1, S \rightarrow S_2\}, S) \ .
        $$
      </div>
      <p>
        In einer Ableitung aus $G$ müssen wir uns also im ersten Schritt
        entscheiden, ob wir nach $S_1$ oder nach $S_2$ gehen und somit
        ein Wort in $L_1$ oder eines in $L_2$ ableiten wollen.<span style="color:#0000;visibility:none;">A</span><span class="qed">\(\square\)</span>
      </p>
    </div>
    <p class="main-column">
      In einem nächsten Schritt werden wir zeigen, dass Konstrukte wie
      <i>Ding 1, gefolgt von Ding 2</i>
      mit regulären Grammatiken realisierbar
      sind.
    </p>
    <div class="well statement out">
      <p>
        <b>Definition</b>
        <b>5.1.10</b>
        <b>(Kleenesche Hülle).</b>
        Seien $L_1, L_2 \in \Sigma^*$ zwei
        Sprachen. Die Verknüpfungssprache $L_1 \circ L_2$ ist definiert
        als
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        L_1 \circ L_2 := \{ \alpha \beta \ | \ \alpha \in
        L_1, \beta \in L_2\} \ .
        \end{align*}
        $$
      </div>
    </div>
    <div class="well statement out">
      <p>
        <b>Lemma</b>
        <b>5.1.11</b>
        Seien $L_1$ und $L_2$ zwei reguläre Sprachen. Dann ist
        $L_1 \circ L_2$ auch regulär.
      </p>
    </div>
    <div class="well highlight out">
      <p>
        <b>Beweis.</b>
        Wir im letzten Beweis nehmen wir uns eine reguläre Grammatik
        $G_1 = (\Sigma, N_1, P_1, S_1)$ für $L_1$ und
        $G_2 = (\Sigma, N_2, P_2, S_2)$ für
        <span class="nowrap">$L_2$.</span>
        Ob die beiden
        Alphabete die gleichen sind, also beide
        <span class="nowrap">$\Sigma$,</span>
        oder zwei
        verschiedene, also
        <span class="nowrap">$\Sigma_1, \Sigma_2$,</span>
        ist nicht entscheidend,
        da wir im letzteren Fall $L_1$ und $L_2$ als Sprachen über dem
        Alphabet $\Sigma := \Sigma_1 \cup \Sigma_2$ betrachten können.
        Wir führen nun wiederum ein neues Startsymbol
        $S \not \in N_1 \cup n_2$ ein und fügen die Regel
      </p>
      <div class="math-block">
        $$
        S \rightarrow S_1 S_2
        $$
      </div>
      <p>
        hinzu. Es sollte nun klar sein, dass wir aus $S$ genau die
        Wörter der Form $\alpha \beta$ mit $S_1 \Rightarrow^* \alpha$
        und $S_2 \Rightarrow^* \beta$ ableiten können, also genau die in
        <span class="nowrap">$L_1 \cup L_2$.</span>
        Leider ist die Regel $S \rightarrow S_1 S_2$
        nicht regulär, da auf der rechten Seite zwei nichtterminale
        Symbole vorkommen. Wir müssen anders vorgehen. Wir ändern die
        Regeln von $G_1$ so ab, dass immer, wenn in einer
        <span class="nowrap">$G_1$-Regle</span>
        die Ableitung endet, wir das Zeichen $S_2$ anhängen:
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        \begin{array}{l|l} \textnormal{Regel in $G_1$}&amp;
        \textnormal{wird zu} \\ \hline X \rightarrow aY&amp;X \rightarrow aY
        X \rightarrow a&amp;X \rightarrow aS_2 \\ X \rightarrow Y&amp;X
        \rightarrow Y \\ X \rightarrow \epsilon&amp;Y \rightarrow S_2 \ .
        \end{array}
        \end{align*}
        $$
      </div>
      <p>
        Die Menge an Produktionen der Grammatik $G$ besteht dann aus den
        nach dieser Tabelle modifizierten Produktionen $P_1$ von
        <span class="nowrap">$G_1$,</span>
        zusammen mit den (unmodifizierten) Regeln von
        <span class="nowrap">$G_2$.</span>
        Das
        Startsymbol von $G$ ist
        <span class="nowrap">$S_1$.</span><span style="color:#0000;visibility:none;">A</span><span class="qed">\(\square\)</span>
      </p>
    </div>
    <p class="main-column">
      In einem dritten Lemma werden wir zeigen, dass die Konstruktion
      <i>Ding, beliebig oft wiederholt</i>
      mit regulären Sprachen möglich ist.
    </p>
    <div class="well statement out">
      <p>
        <b>Definition</b>
        <b>5.1.12</b>
        Sei
        <span class="nowrap">$L \subseteq \Sigma^*$.</span>
        Die Sprache $L^n$ ist die Menge
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        L^n := \{ \alpha_1 \alpha_2 \dots \alpha_n \ | \
        \alpha_i \in L \ \forall 1 \leq i \leq n \} \ .
        \end{align*}
        $$
      </div>
      <p>
        Insbesondere ist $L^1 = L$ und
        <span class="nowrap">$L^0 = \{\epsilon\}$.</span>
        Die Menge
        $L^*$ ist nun
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        L^* := L^0 \cup L^1 \cup L^2 \cup L^3
        \cup \dots
        \end{align*}
        $$
      </div>
      <p>
        also die Sprache der Wörter der Form
        <span class="nowrap">$\alpha_1 \alpha_2 \dots \alpha_n$,</span>
        wobei $n$ beliebig und jedes
        $\alpha_i \in L$ ist.
      </p>
    </div>
    <div class="well statement out">
      <p>
        <b>Lemma</b>
        <b>5.1.13</b>
        Sei $L$ eine reguläre Sprache. Dann ist $L^*$ auch regulär.
      </p>
    </div>
    <div class="well highlight out">
      <p>
        <b>Beweis.</b>
        Sei $G = (\Sigma, N, P, S)$ eine reguläre Grammatik für
        <span class="nowrap">$L$.</span>
        Wir
        könnten ein neues Startsymbol $S'$ einführen und
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        S'
        &amp;\rightarrow \epsilon \\ S'&amp;\rightarrow SS'
        \end{align*}
        $$
      </div>
      <p>
        als zwei neue Regeln einführen. Natürlich geht das nicht, denn
        $S' \rightarrow SS'$ ist nicht erlaubt in regulären Grammatiken.
        Ähnlich wie im vorherigen Beweis fangen wir das Ende einer $G$
        -Ableitung ab:
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        \begin{array}{l|l}
        \textnormal{Regel in $G$}&amp;\textnormal{wird zu} \\ \hline X
        \rightarrow aY&amp;X \rightarrow aY \\ X \rightarrow a&amp;X \rightarrow
        aS \\ X \rightarrow Y&amp;X \rightarrow Y \\ X \rightarrow \epsilon&amp;
        Y \rightarrow S \ . \end{array}
        \end{align*}
        $$
      </div>
      <p>
        Um überhaupt eine Ableitung beenden zu können, fügen wir
        $S \rightarrow \epsilon$ noch als Regel hinzu.<span style="color:#0000;visibility:none;">A</span><span class="qed">\(\square\)</span>
      </p>
    </div>
    <div class="well exercise out">
      <p>
        <b>Übungsaufgabe 5.1.9</b>
        Hier sehen Sie einen URL mit Query-String:
        <code>https://web1.hszg.de/modulkatalog/index.php?activTopic=3&amp;activNav=2&amp;stid=566&amp;frei=1&amp;kennz=suche&amp;activCont=1</code>
        Der URL besteht aus mehreren Teilen:
      </p>
      <ol>
        <li>
          <p>
            Dem Protokoll. Hier ist das
            <span class="nowrap"><code>https</code>;</span>
            es kann aber auch
            <code>http</code>
            oder
            <code>ftp</code>
            sein.
          </p>
        </li>
        <li>
          <p>
            Dem
            <code>://</code>
            nach dem Protokoll.
          </p>
        </li>
        <li>
          <p>
            Dem Domainnamen, hier
            <span class="nowrap"><code>web1.hszg.de</code>.</span>
          </p>
        </li>
        <li>
          <p>
            Optional nun einem Pfad, hier
            <span class="nowrap"><code>/modulkatalog/index.php</code>.</span>
          </p>
        </li>
        <li>
          <p>
            Falls ein Pfad enthalten ist, dann optional ein
            <span class="nowrap"><code>?</code>,</span>
            gefolgt
            von einem Query-String; dieser besteht aus beliebig vielen,
            aber mindestens einem Paar der Form Key=Value, wobei die
            Paare mit einem
            <code>&amp;</code>
            separiert sind.
          </p>
        </li>
      </ol>
      <p>
        Zeigen Sie, dass die Sprache der syntaktisch korrekten URLs (in
        dem gerade beschriebenen Format) regulär ist. Sie können entweder
        direkt eine reguläre Grammatik angeben oder mit dem
        Baukastenprinzip und den drei letzten Lemmas argumentieren.
      </p>
    </div>
    <p class="main-column">
      Wir führen ein weiteres Baukastenwerkzeug ein, weil es in der
      Praxis recht häufig vorkommt.
    </p>
    <div
      id="_18_hgi_"
      class="well statement out"
    >
      <p>
        <b>Theorem</b>
        <b>5.1.14</b>
        Sei $L \subseteq \Sigma^*$ eine reguläre Sprache und
        $c \not \in \Sigma$ ein neues Terminalsymbol. Die Sprache aller
        nichtleeren Folgen von $L$ -Wörten, die durch $c$ separiert
        sind, also formal
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        L' := L \circ ( \{c\} \circ L)^*
        \end{align*}
        $$
      </div>
      <p>
        ist wiederum regulär.
      </p>
    </div>
    <div class="well highlight out">
      <p>
        <b>Beweis.</b>
        Dies folgt sofort aus den vorherigen Theorem, weil wir nur
        Konkatenation $\circ$ und Kleenesche Hülle $^*$ verwenden.
        Dennoch lohne es sich, explizit für $L'$ eine Grammatik zu
        bauen. Es ist auch recht einfach. Sei \(G = $\Sigma, N, P, S)$
        eine reguläre Grammatik für
        <span class="nowrap">$L$.</span>
        Die Grammatik $G'$ für $L'$ hat
        die gleichen Nichtterminale und das gleiche Startsymbol, gibt uns
        aber zusätzlich die Möglichkeit, wenn eine $G$ -Ableitung
        aufhört, dann wieder ein $cS$ anzuhängen und wieder mit $S$
        weiterzumachen. Also: wir beginnen mit
        <span class="nowrap">$P' := P$,</span>
        fügen aber
        noch weitere Produktionen hinzu. Nämlich: Für jede
        <span class="nowrap">$G$-Produktion</span>
        der Form $Y \rightarrow \epsilon$ fügen wir $Y \rightarrow cS$
        hinzu. Für jede
        <span class="nowrap">$G$-Produktion</span>
        der Form $Y \rightarrow a$ fügen
        wir $Y \rightarrow acS$ hinzu. Die neue Grammatik $G'$ ist eine
        <span class="nowrap"><i>erweitert reguläre Grammatik</i>,</span>
        da Regeln wie $Y \rightarrow acS$
        auf der rechten Seite zwei Terminalsymbole haben. Wir müssen sie
        also erst noch in eine "richtig reguläre" umwandeln. In konkreten
        Anwendungne empfiehlt es dazu, die Nichtterminale von $G'$
        umzubenennen, damit keien Verwechslungsgefahr droht.<span style="color:#0000;visibility:none;">A</span><span class="qed">\(\square\)</span>
      </p>
    </div>
    <p class="main-column">
      Wir können noch sehr viel mehr Operationen mit regulären Sprachen
      machen als Vereinigung, Konkatenation und Kleenesche Hülle.
      Beispielsweise Umkehrung und Komplement, also beispielsweise
    </p>
    <div class="main-column">
      <ul>
        <li>
          <p>
            Alle Emailadressen, von rechts nach links gelesen (Umkehrung);
          </p>
        </li>
        <li>
          <p>
            Die Menge aller syntaktisch inkorrekten Emailadressen
            (Komplement).
          </p>
        </li>
      </ul>
    </div>
    <p class="main-column">
      Mit den Werkzeugen, die wir uns bis jetzt erarbeitet haben, können
      wir eine Grammatik für das Komplement nicht konstruieren. Wir
      brauchen etwas mehr Maschinerie.
    </p>
    <div id="end-of-page-elt">
    </div>
    <div id="bottom-menu">
      <div id="bottom-menu-left">
        <a href="./5-0.html">&lt;&lt; Kapitel 5<span
            style="visibility:hidden"
            id="bottom-prev-page-tooltip"
          >Reguläre Sprachen</span></a>
      </div>
      <div id="bottom-menu-right">
        <a href="./5-2.html">Kapitel 5.2 &gt;&gt;<span
            style="visibility:hidden"
            id="bottom-next-page-tooltip"
          >Endliche Automaten</span></a>
      </div>
    </div>
  </div>
</body>
</html>
