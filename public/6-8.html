<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <meta name="description" content="Section 6.8 of TI-2 - Theoretische Informatik 2">
  <link rel="stylesheet" type="text/css" href="app.css" />
  <link rel="icon" type="image/x-icon" href="./img/favicon.svg">
  <script type="text/javascript" src="./mathjax_setup.js"></script>
  <script type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
  <script type="text/javascript" src="./app.js"></script>
  <script type="text/javascript" src="./group.js"></script>
  <title>TI2—Kapitel 6.8</title>
</head>
<body>
  <div id="body-wrapper">
    <div id="top-menu">
      <div id="top-menu-left">
        <a href="./index.html"><span class="inhalts_arrows">&lt;&lt;
          </span>Inhaltsverzeichnis</a><a
          id="prev-page"
          href="./6-7.html"
        >&lt;&lt; Kapitel 6.7<span
            style="visibility:hidden"
            id="top-prev-page-tooltip"
          >LR-Grammatiken</span></a>
      </div>
      <div id="top-menu-right">
        <a href="https://www.tu-chemnitz.de/informatik/theoretische-informatik/TI-2/index.html.en">zür Kursübersicht</a><a
          id="next-page"
          href="./6-9.html"
        >Kapitel 6.9 &gt;&gt;<span
            style="visibility:hidden"
            id="top-next-page-tooltip"
          >Der DK-Automat</span></a>
      </div>
    </div>
    <div class="main-column page-title">
      <p>
        6.8&ensp;Linker Rand, Blüten und die DK-Grammatik
      </p>
    </div>
    <p class="main-column">
      In diesem Teilkapitel werden wir sehen, wie wir für
      eine gültige Wortform $\gamma$ den korrekten
      Linksreduktionsschritt
    </p>
    <div class="math-block main-column">
      $$
      \begin{align*}
      \gamma = \alpha \beta w \rstep{} \alpha X w
      \end{align*}
      $$
    </div>
    <p class="main-column">
      finden. Als erstes müssen wir uns überlegen, wie die
      Front $\front(\gamma) = \alpha \beta$ überhaupt
      aussehen kann. Wenn wir uns den Ableitungsbaum von
      $\gamma$ ansehen, wird das einigermaßen
      offensichtlich sein. Zur Erinnerung: Zu jeder
      Ableitung $S \Step{}^* w \in \Sigma^*$ können wir
      eindeutig einen
      <i>Ableitungsbaum</i>
      zeichnen. Wenn die
      Grammatik eindeutig ist, so hängt auch der Baum nur
      vom Wort $w \in L(G)$ ab und nicht von der Ableitung
      <span class="nowrap">$S \Step{}^* w$.</span>
      Allerdings können wir für
      Zwischenformen $S \Step{}^* \gamma \Step{}^* w$ auch
      einen Ableitungsbaum zeichnen, und der unterscheidet
      sich stark, abhängig davon, ob $S \Step{}^* \gamma$
      eine Rechtsableitung, Linksableitung oder sonst was
      ist. Ich zeige Ihnen jetzt ein Beispiel für eine
      Grammatik und eine Handvoll Ableitungen samt
      Ableitungsbaum.
    </p>
    <div class="math-block main-column">
      $$
      \begin{align*}
      G&amp;: \\
      S&amp;\rightarrow AB \\
      A&amp;\rightarrow xBS \ | \ Bz \\
      B&amp;\rightarrow yAS \ | \ Az \ | \ x \ | \ y \ | \ z
      \end{align*}
      $$
    </div>
    <p class="main-column">
      Es ist zu diesem Zeitpunkt irrelevant, ob $G$
      eindeutig oder sogar $LR(0)$ ist. Ich interessiere
      mich gerade nur für Ableitungsbäume von Wortformen.
    </p>
    <div class="pseudowell">
      <div class="carousel__container">
        <div class="carousel">
          <div class="carousel__items">
            <div class="carousel__item">
              <img src="./img/context-free/LR/G-right-derivation.svg">
            </div>
            <div class="carousel__item">
              <img src="./img/context-free/LR/G-left-derivation.svg">
            </div>
            <div class="carousel__item">
              <img src="./img/context-free/LR/G-messy-derivation.svg">
            </div>
          </div>
        </div>
      </div>
    </div>
    <p class="main-column">
      Fällt Ihnen etwas auf? Schauen Sie sich bitte noch
      ein weiteres Beispiel an für den Ableitungsbaum einer
      in einer gültigen Wortform, also von einer, die in
      einer Rechtsableitung vorkommen kann:
    </p>
    <div class="pseudowell">
      <figure>
        <img
          style="height:40em"
          src="./img/context-free/LR/G-tree-large.svg"
        >
      </figure>
    </div>
    <div class="well remark out">
      <p>
        <b>Warten Sie!</b>
        Scrollen Sie erst weiter, wenn Sie den Baum oben lang
        genug angeschaut haben! Versuchen Sie selbst, die
        spezielle Form dieses Baumes möglichst formal zu
        beschreiben!
      </p>
    </div>
    <div class="well remark out">
      <p>
        <b>Auflösung.</b>
        Hier sehen Sie noch einmal den gleichen Baum, nun
        aber gewisse Teile verschieden umrandet / eingefärbt.
      </p>
    </div>
    <div class="pseudowell">
      <figure>
        <img
          style="height:40em"
          src="./img/context-free/LR/G-tree-large-colored.svg"
        >
      </figure>
    </div>
    <p class="main-column">
      Sie sehen: links vom Stamm gibt es nur Blätter.
      Rechts vom Stamm ist jedes Blatt ein Terminalsymbol.
      Wir erkennen auch, was der letzte Ableitungsschritt
      war, der zu diesem Baum geführt hat: die Blüte ist
      hinzugekommen, in diesem Fall also
      <span class="nowrap">$A \rightarrow x B S$.</span>
      Wir definieren nun
      eingeführten Begriffe formal:
    </p>
    <div class="well statement out">
      <p>
        <b>Definition / Beobachtung 6.8.1 (Stamm, linker Rand, Blüte, Front, rechter Rest)</b>
        Sei $S \Step{}^* \gamma$ eine Rechtsableitung,
        $\gamma$ also eine gültige Wortform, und $\mathcal{T}$
        der Ableitungsbaum von
        <span class="nowrap">$\gamma$.</span>
        Der
        <i>Stamm</i>
        ist der
        Pfad von der Wurzel zu jenem inneren Knoten
        <span class="nowrap">$u$,</span>
        der
        von allen inneren Knoten, deren Kinder allesamt
        Blätter sind, am weistesten links steht. Die Kinder
        von
        <span class="nowrap">$u$,</span>
        per Definition alles Blätter, sind die
        <span class="nowrap"><i>Blüte</i>.</span>
        Die Menge der Knoten, die einen Stammknoten
        als rechtes Geschwister haben, heißt der
        <span class="nowrap"><i>linke Rand</i>.</span>
        Jeder Knoten $v$ im linken Rand muss ein Blatt sein,
        ansonsten stünde er ja weiter links als
        <span class="nowrap">$u$;</span>
        die
        Menge der rechten Geschwisterkinder von Stammknoten
        sowie deren Nachkommen heißt der
        <span class="nowrap"><i>rechte Rand</i>.</span>
        Im
        rechten Rest ist jedes Blatt ein Terminalsymbol,
        ansonsten wäre es keine Rechtsableitung. Die
        Beschriftung der Knoten im linken Rand ergibt eine
        Wortform
        <span class="nowrap">$\alpha$;</span>
        die Blüte ergibt
        <span class="nowrap">$\beta$.</span>
        Die
        Blätter im rechten Rand sind ausschließlich mit
        Terminalen beschriftet und ergeben ein Wort
        $w \in \Sigma^*$ . Der ganze Baum stellt also eine
        Rechtsableitung
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        S \Step{R}^* \alpha \beta w
        \end{align*}
        $$
      </div>
      <p>
        dar. Die Wortform
        <span class="nowrap">$\alpha\beta$,</span>
        also linker Rand
        plus Blüte, nennen wir die
        <i>Front</i>
        von $\mathcal{T}$
        und schreiben sie als
        <span class="nowrap">$\front(\mathcal{T})$.</span>
        Wir
        sagen auch, dass $\beta$
        <i>eine Blüte von $\gamma$</i>
        und $\alpha\beta$ die
        <i>Front</i>
        von $\gamma$ ist, ohne
        über den Ableitungsbaum $\mathcal{T}$ selbst zu
        reden. Hierbei ist zu beachten, dass in einer
        mehrdeutigen Grammatik eine gültige Wortform mehrere
        Ableitungsbäume und somit mehrere Blüten haben kann,
        die Unterteilung $\gamma = \alpha\beta w$ also nicht
        eindeutig ist. Für eindeutige Grammatiken ist die
        Unterteilung aber eindeutig. Sei weiterhin $A$ die
        Beschriftung des Elternknoten der Blüte
        (notwenigerweise ein Nichtterminal; Terminale haben
        keine Kinder). Dann ist $A \rightarrow \beta$ eine
        Produktion in der Grammatik und $\alpha A w$ eine
        gültige Wortform; wir erhalten den Ableitungsbaum von
        <span class="nowrap">$\alpha A w$,</span>
        indem wir die Blüte von $\mathcal{T}$
        entfernen. Wir schließen, dass
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        \alpha \beta w \rstep{} \alpha A w
        \end{align*}
        $$
      </div>
      <p>
        ein korrekter Linksreduktionsschritt ist.
      </p>
    </div>
    <p class="main-column">
      Wir können also, ausgehend von der Wortform
      <span class="nowrap">$\gamma$,</span>
      eine Linksreduktion $\gamma \rstep{}^* S$ finden,
      indem wir den Ableitungsbaum von $\gamma$ zeichnen
      und immer wieder die Blüte abschneiden:
    </p>
    <div class="pseudowell">
      <div class="carousel__container">
        <div class="carousel">
          <div class="carousel__items">
            <div class="carousel__item">
              <img src="./img/context-free/LR/tree-destruction/01.svg">
            </div>
            <div class="carousel__item">
              <img src="./img/context-free/LR/tree-destruction/02.svg">
            </div>
            <div class="carousel__item">
              <img src="./img/context-free/LR/tree-destruction/03.svg">
            </div>
            <div class="carousel__item">
              <img src="./img/context-free/LR/tree-destruction/04.svg">
            </div>
            <div class="carousel__item">
              <img src="./img/context-free/LR/tree-destruction/05.svg">
            </div>
            <div class="carousel__item">
              <img src="./img/context-free/LR/tree-destruction/06.svg">
            </div>
            <div class="carousel__item">
              <img src="./img/context-free/LR/tree-destruction/07.svg">
            </div>
            <div class="carousel__item">
              <img src="./img/context-free/LR/tree-destruction/08.svg">
            </div>
            <div class="carousel__item">
              <img src="./img/context-free/LR/tree-destruction/09.svg">
            </div>
            <div class="carousel__item">
              <img src="./img/context-free/LR/tree-destruction/10.svg">
            </div>
          </div>
        </div>
      </div>
    </div>
    <p class="main-column">
      Um für eine Wortform $\gamma$ den korrekten
      Reduktionsschritt zu finden, reicht es also aus,
      linken Rand und Blüte zu bestimmen, also $\alpha$ und
      <span class="nowrap">$\beta$,</span>
      so dass $\gamma = \alpha\beta w$ und
      $\alpha \beta w \rstep{} \alpha A w$ korrekt ist ( $A$
      steht hier für das Nichtterminal, mit dem der
      Elternknoten der Blüte beschriftet ist). Linken Rand
      und Blüte zu finden scheint keine leichte Aufgabe zu
      sein: schließlich müssen wir dafür doch den
      Ableitungsbaum von $\gamma$ bilden, was selbst wieder
      eine Parsing-Aufgabe ist??? An dieser Stelle zeigt
      sich die Genialität des DK-Ansatzes: der
      Ableitungsbaum von $\gamma$ kann beliebig
      verschachtelt sein, aber Stamm, linker Rand und Blüte
      haben zusammen eine einfache, beinahe linear anmutende
      Struktur. Schematisch:
    </p>
    <div class="pseudowell">
      <figure>
        <img
          style="height:20em"
          src="./img/context-free/LR/schema-linker-rand-bluete-stamm.svg"
        >
      </figure>
    </div>
    <p class="main-column">
      Die Aussage "Stamm, linker Rand und Blüte haben eine
      einfache Struktur" können wir formalisieren.
    </p>
    <div class="well statement out">
      <p>
        <b>Definition 6.8.2</b>
        Für eine kontextfreie Grammatik $G$ definieren wir
        die Sprache
        <span class="nowrap">$\Front(G) \subseteq (\Sigma \cup N)^*$:</span>
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        \Front(G) := \{\front(\mathcal{T}) \ | \ \mathcal{T}
        \textnormal{ ist der Ableitungsbaum einer Rechtsableitung }
        S \Step{R}^* \gamma \}
        \end{align*}
        $$
      </div>
      <p>
        alternativ
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        \Front(G) := \{\alpha \beta \ | \ S \Steps{R} \alpha X w
        \Step{R} \alpha \beta w \}
        \end{align*}
        $$
      </div>
      <p>
        also die Menge aller Wortformen, die Front einer
        gültigen Wortform sind.
      </p>
    </div>
    <div class="well statement out">
      <p>
        <b>Lemma 6.8.3</b>
        Die Sprache $\Front(G)$ ist regulär. Insbesondere
        gibt es eine erweitert reguläre Grammatik $\hat{G}$
        für
        <span class="nowrap">$\Front(G)$,</span>
        so dass die Blüte genau die im
        letzen Ableitungsschritt erzeugten Terminalsymbole
        sind.
      </p>
    </div>
    <p class="main-column">
      Hier ist etwas Mentalgymnastik vonnöten: aus Sicht
      der Sprache $\Front(G)$ sind $\Sigma \cup N$
      <span class="nowrap"><i>Terminalsymbole</i>.</span>
      Sie können ja schließlich in den
      Wörtern der Sprache auftauchen. Die Grammatik
      $\hat{G}$ hat also die Terminalsymbole
      <span class="nowrap">$\Sigma \cup N$.</span>
      Darüberhinaus hat sie die
      Nichtterminale
      <span class="nowrap">$\hat{N} := \{ \hat{X} \ | \ X \in N\}$,</span>
      also für
      jedes Nichtterminal $X$ von $G$ ein
      Meta-Nichtterminal
      <span class="nowrap">$\hat{X}$.</span>
      Das $X \in N$
      entspricht dem $\boxed{X}$ in den obigen Bäumen, wo
      also $N$ als Blatt vorkommt; das $\hat{X} \in \hat{N}$
      entspricht dem
      <img
        class="circle-X-img"
        src="img/context-free/LR/circle-X.svg"
      >, also wo $W$ als innerer Knoten vorkommt. Bevor ich
      $\hat{G}$ formal definiere, zeige ich den obigen
      Ableitungsbaum (ohne rechten Rand, weil der ja bei
      $\front(G)$ eh fehlt) und annotiere jeden Knoten auf
      dem Stamm mit der entsprechenden $\hat{G}$
      -Produktion.
    </p>
    <div class="pseudowell">
      <figure>
        <img
          style="height:40em"
          src="./img/context-free/LR/hat-G-derivation.svg"
        >
      </figure>
    </div>
    <p class="main-column">
      Die oben gezeigten
      <span class="nowrap">$\hat{G}$-Produktionen</span>
      sind
      <i>verallgemeinert regulär</i>
      und nicht im eigentlichen
      Sinne regulär, wie zum Beispiel die Produktion
      <span class="nowrap">$\hat{B} \rightarrow yA \hat{S}$,</span>
      die auf der rechten
      Seite zwei Terminalsymbole hat (beachten Sie: $A$ ist
      ein Terminal aus der Sicht von
      <span class="nowrap">$\hat{G}$).</span>
      Wir
      schreiben $\hat{G}$ um in eine reguläre Grammatik,
      indem wir Zwischen-Nichtterminale einführen; diese
      entsprechen dann auch den Zuständen des dazugehörigen
      nichtdeterministischen Automaten:
    </p>
    <div class="well statement out">
      <p>
        <b>Definition 6.8.4</b>
        Sei $G = (\Sigma, N, S, P)$ eine kontextfreie
        Grammatik. Die Front-Grammatik oder DK-Grammatik von
        $G$ ist die
        <i>erweitert reguläre</i>
        Grammatik
        $\hat{G} = (\Sigma \cup N, \hat{N}, \hat{S},
        \hat{P})$
        mit
        <span class="nowrap">$\hat{N} := \{\hat{X} \ | \ X \in N\}$,</span>
        wobei
        $\hat{P}$ für jede
        <span class="nowrap">$G$-Produktion</span>
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        A \rightarrow w_0 A_1 w_1 A_2 w_2 \dots w_{k-1} A_k w_k
        \end{align*}
        $$
      </div>
      <p>
        mit $w_i \in \Sigma^*$ die Produktionen
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        \hat{A}&amp;\rightarrow w_0 \hat{A}_1 \\
        \hat{A}&amp;\rightarrow w_0 A_1 w_1 \hat{A}_2 \\
        &amp;\vdots \\
        \hat{A}&amp;\rightarrow w_0 A_1 w_1 A_2 w_2 \dots A_{k-1} w_{k-1} \hat{A}_k \\
        \hat{A}&amp;\rightarrow w_0 A_1 w_1 A_2 w_2 \dots w_{k-1} A_k w_k
        \end{align*}
        $$
      </div>
      <p>
        besitzt.
      </p>
    </div>
    <div class="well statement out">
      <p>
        <b>Beobachtung 6.8.5</b>
        $\hat{G}$ erzeugt die Sprache
        <span class="nowrap">$\Front(G)$.</span>
      </p>
    </div>
    <div class="well statement out">
      <p>
        <b>Beispiel 6.8.6</b>
        Für unsere Grammatik $G$ oben ergeben sich folgende
        Produktionen $\hat{P}$ in
        <span class="nowrap">$\hat{G}$:</span>
      </p>
      <div class="math-block">
        $$
        \begin{align*}
        \begin{array}{l|l}
        \textnormal{Produktion in $G$}
        &amp;
        \textnormal{Produktion in $\hat{G}$} \\
        &amp;{\dk{S}} \rightarrow \dk{A}\\
        S \rightarrow AB&amp;{\dk{S}} \rightarrow \dkt{A} \dk{B}\\
        &amp;{\dk{S}} \rightarrow \dkt{AB} \\ \hline
        %
        &amp;{\dk{A}} \rightarrow \dkt{x} \dk{B}\\
        A \rightarrow xBS&amp;{\dk{A}} \rightarrow \dkt{x B} \dk{S}\\
        &amp;{\dk{A}} \rightarrow \dkt{x B S}\\ \hline
        %
        A \rightarrow Bz&amp;{\dk{A}} \rightarrow \dk{B}\\
        &amp;{\dk{A}} \rightarrow \dkt{Bz} \\ \hline
        %
        &amp;\dk{B} \rightarrow \dkt{y} \dk{A}\\
        B \rightarrow y A S&amp;\dk{B} \rightarrow \dkt{y A} \dk{S} \\
        &amp;\dk{B} \rightarrow \dkt{y A S} \\ \hline
        %
        &amp;\dk{B} \rightarrow \dk{A} \\
        B \rightarrow Az&amp;\dk{B} \rightarrow \dkt{Az} \\ \hline
        %
        B \rightarrow x&amp;\dk{B} \rightarrow \dkt{x} \\
        B \rightarrow y&amp;\dk{B} \rightarrow \dkt{y} \\
        B \rightarrow z&amp;\dk{B} \rightarrow \dkt{z} \\
        \end{array}
        \end{align*}
        $$
      </div>
    </div>
    <p class="main-column">
      Nochmals: Produktionen wie
      $\dk{B} \rightarrow \dkt{y A} \dk{S}$ sind erweitert
      regulär weil $\dkt{y}$ und $\dkt{A}$ aus Sicht von
      $\hat{G}$ beides Terminalsymbole sind. Wir können nun
      unseren
      <span class="nowrap">$LR(0)$-Parser</span>
      beschreiben:
    </p>
    <div
      id="_29_hgi_"
      class="well statement out"
    >
      <p>
        <b>Algorithmus 6.8.7 - Der
          <span class="nowrap">$LR(0)$-Parser.</span></b>
        Starte mit einem leerem
        Stack. Sei $\gamma$ der Inhalt des Stacks zu einem
        Zeitpunkt.
      </p>
      <ol>
        <li>
          <p>
            Wenn
            <span class="nowrap">$\gamma \in \Front(G)$,</span>
            dann betrachte die
            letzte angewandte $\hat{G}$ -Produktion
            $\hat{X} \rightarrow \beta$ und schreibe
            <span class="nowrap">$\gamma = \alpha\beta$.</span>
            Wende die
            <span class="nowrap">$G$-Produktion</span>
          </p>
          <p>
            $X \rightarrow \beta$ rückwärts an, reduziere also
          </p>
          <div class="math-block">
            $$
            \begin{align*}
            \alpha \beta \rstep{} \alpha X
            \end{align*}
            $$
          </div>
          <p>
            Konkret: lösche $\beta$ vom Stack und ersetze es
            durch
            <span class="nowrap">$A$.</span>
          </p>
        </li>
        <li>
          <p>
            Falls
            <span class="nowrap">$\gamma \not \in \Front(G)$,</span>
            lies das nächste
            Eingabezeichen und lege es auf den Stack.
          </p>
        </li>
      </ol>
      <p>
        Der Parser endet, wenn weder Schritt 1 noch Schritt 2
        möglich sind; wenn zu diesem Zeitpunkt nur noch $S$
        auf dem Stack liegt, akzeptiert er, andernfalls lehnt
        er das Eingabewort ab.
      </p>
    </div>
    <div class="well statement out">
      <p>
        <b>Theorem 6.8.8</b>
        Wenn der
        <span class="nowrap">$LR(0)$-Parser</span>
        akzeptiert, dann hat er eine
        Linksreduktion $w \rstep{}^* S$ und somit eine
        Rechtsableitung konstruiert; es gilt also
        <span class="nowrap">$w \in L(G)$.</span>
        Wenn umgekehrt $w \in L(G)$ gilt und $G$
        die
        <span class="nowrap">$LR(0)$-Bedingung</span>
        erfüllt, dann findet der Parser
        die Rechtsableitung
        <span class="nowrap">$S \Step{}^* w$,</span>
      </p>
    </div>
    <div class="well highlight out">
      <p>
        <b>Beweis.</b>
        Der erste Teil der Bedeutung ist einfach zu sehen.
        Jeder Reduktionsschritt ist ein
        Linksreduktionsschritt, und wenn man Ende $S$ steht,
        waren es auch alles
        <i>korrekte</i>
        Linksreduktionsschritte. Der zweite Teil ist
        schwieriger. Wir nehmen also an, dass $G$ eine
        LR(0)-Grammatik ist. Da $G$ eindeutig ist, hat jede
        gültige Wortform $\gamma$ eine eindeutige
        Rechtsableitung und einen dazugehörigen Ableitungsbaum
        <span class="nowrap">$\mathcal{T}$;</span>
        somit ist
        $\front(\gamma) := \front(\mathcal{T})$ eindeutig
        bestimmt. Beachten Sie, dass rechts von
        $\front(\gamma)$ nur Terminalsymbole folgen.
        Betrachten wir einen Zeitpunkt während des
        Parsing-Prozesses. Sei $\gamma$ der Stackinhalt und
        $w$ der ungelesene Teil des Eingabewortes. Wir werden
        beweisen, dass zu jedem Zeitpunkt folgende Invariante
        gilt:
      </p>
      <p>
        <b>Behauptung.</b>
        (i) $\gamma w$ ist eine gültige
        Wortform. (ii) $\gamma$ ist ein Präfix von
        <span class="nowrap">$\front(\gamma w)$.</span>
      </p>
      <p>
        <b>Beweis.</b>
        Die Behauptung gilt offensichtlich am
        Anfang, da $\gamma = \epsilon$ und $w\in L$ ist und
        somit $\gamma w = w$ eine gültige Wortform ist. Des
        weiteren ist der Stack leer, also
        <span class="nowrap">$\gamma = \epsilon$,</span>
        und daher sicherlich ein Präfix von
        <span class="nowrap">$\front(w)$.</span>
        Wir
        zeigen nun, dass, wenn die Invariante in Schritt $t$
        gilt, sie auch im nächsten Schritt $t+1$ gilt. Es
        gibt nun zwei Möglichkeiten.
      </p>
      <ol>
        <li>
          <p>
            Der Parser wendet Schritt 1 an, also
            <span class="nowrap">$\gamma \in \Front(G)$.</span>
            Das heißt nach Definition von
            <span class="nowrap">$\Front(G)$,</span>
            dass es ein $w' \in \Sigma^*$ gibt, so
            dass $\gamma w'$ eine gültige Wortform ist und
            <span class="nowrap">$\gamma = \front(\gamma w')$.</span>
            Also
          </p>
          <div class="math-block">
            $$
            \begin{align*}
            S \Step{R}^* \alpha A w' \Step{R}^* \alpha \beta w'
            \end{align*}
            $$
          </div>
          <p>
            mit
            <span class="nowrap">$\gamma = \alpha \beta$.</span>
            Es sind $\alpha$ und
            $\beta$ also linker Rand und Blüte von
            <span class="nowrap">$\gamma w'$.</span>
            Somit ist
          </p>
          <div class="math-block">
            $$
            \begin{align}
            \alpha \beta w' \rstep{} \alpha' A w'
            \label{left-reduction-w'}
            \end{align}
            $$
          </div>
          <p>
            ein korrekter Linksreduktionsschritt. Die letzte
            <span class="nowrap">$\dk{G}$-Produktion</span>
            in der Ableitung von
            $\dk{S} \Step{}^* \gamma$ war somit
            <span class="nowrap">$\dk{A} \rightarrow \beta$;</span>
            somit ersetzt der Parser
            das $\beta$ auf dem Stack durch
            <span class="nowrap">$A$;</span>
            führt also die
            Linksreduktion
          </p>
          <div class="math-block">
            $$
            \begin{align}
            \alpha \beta w \rstep{} \alpha A w
            \label{left-reduction-w}
            \end{align}
            $$
          </div>
          <p>
            an. Da (\ref{left-reduction-w'}) korrekt ist und
            $\alpha \beta w$ nach Invariante eine gültige
            Wortform ist, ist nach LR(0)-Bedingung auch
            (\ref{left-reduction-w}) ein korrekter Schritt;
            $\alpha Aw$ ist also auch eine gültige Wortform;
            somit gilt Teil (i) der Invariante. Um zu sehen, dass
            (ii) gilt, beachten Sie, dass nun auf dem Stack oben
            ein Nichtterminal liegt:
            <span class="nowrap">$A$;</span>
            da rechts vom aktiven
            Teil nur Terminale stehen, muss $\alpha A$ ein Präfix
            von $\front(\alpha A w)$ sein.
          </p>
        </li>
        <li>
          <p>
            Der Parser wendet Schritt 2 an, also
            <span class="nowrap">$w = cw'$,</span>
            er
            liest $c$ und legt es auf den Stack. Im nächsten
            Schritt ist der Stackinhalt $\gamma' := \gamma c$ und
            das ungelesene Wort ist
            <span class="nowrap">$w'$.</span>
            Teil (i) der Behauptung
            gilt offensichtlich, da $\gamma' w' = \gamma w$ und
            somit immer noch eine gültige Wortform ist. Um zu
            sehen, dass Teil (ii) gilt, beachten Sie erstens, dass
            Teil (ii) vor dem Schritt galt, also $\gamma$ ein
            Präfix von $\front(\gamma w)$ ist; zweitens, dass
            $\gamma \not \in \Front(G)$ ist (sonst hätte der
            Parser Schritt 1 angewandt); somit ist $\gamma$ ein
            <i>echter</i>
            Präfix von $\front(\gamma w)$ und somit ist
            $\gamma c$ immer noch ein Präfix von
            <span class="nowrap">$\front(\gamma w)$.</span>
          </p>
        </li>
      </ol>
      <p>
        Wenn das Eingabewort gelesen ist, ist nun
        $w = \epsilon$ und Stackinhalt $\gamma$ ist selbst
        eine gültige Wortform, die allerdings nicht weiter
        reduziert werden kann. Also muss $\gamma = S$ gelten
        und der Parser akzeptiert.<span style="color:#0000;visibility:none;">A</span><span class="qed">\(\square\)</span>
      </p>
    </div>
    <div id="end-of-page-elt">
    </div>
    <hr id="bottom-menu-hr">
    <div id="bottom-menu">
      <div id="bottom-menu-left">
        <a href="./6-7.html">&lt;&lt; Kapitel 6.7<span
            style="visibility:hidden"
            id="bottom-prev-page-tooltip"
          >LR-Grammatiken</span></a>
      </div>
      <div id="bottom-menu-right">
        <a href="./6-9.html">Kapitel 6.9 &gt;&gt;<span
            style="visibility:hidden"
            id="bottom-next-page-tooltip"
          >Der DK-Automat</span></a>
      </div>
    </div>
  </div>
</body>
</html>
